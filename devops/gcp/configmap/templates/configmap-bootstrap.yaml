apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    app: "{{ .Values.conf.appName }}-bootstrap"
  name: "{{ .Values.conf.configmap }}-bootstrap"
  namespace: "{{ .Release.Namespace }}"
data:
  DATA_PARTITION: "{{ .Values.data.dataPartitionId }}"
  ONPREM_ENABLED: "{{ .Values.conf.onPremEnabled }}"
  ENABLE_CLEANUP: "{{ .Values.data.enableCleanup }}"
  SCHEMA_URL: "{{ .Values.data.schemaHost }}"
  ENTITLEMENTS_HOST: "{{ .Values.data.entitlementsHost }}"
  {{- if not .Values.conf.onPremEnabled }}
  AUDIENCES: "{{ .Values.data.googleAudiences }}"
  {{- end }}  
  {{- if .Values.data.enableCleanup }}
  SCHEMA_BUCKET: "{{ .Values.data.schemaBucket }}"
  DATASTORE_NAMESPACE: "{{ .Values.data.datastoreNamespace }}"
  DATASTORE_KIND: "{{ .Values.data.datastoreKind }}"
  {{- end }}  
